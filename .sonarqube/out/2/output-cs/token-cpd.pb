Çô
WC:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\WorkOrders\WorkOrderService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
.) *

WorkOrders* 4
{ 
public 

class 
WorkOrderService !
{ 
	protected 
int (
MaxResponseContentBufferSize 2
=3 4
$num5 ;
;; <
public 
async 
Task 
< 
	WorkOrder #
># $
GetOrderBySJId% 3
(3 4
Int644 9
serviceJobId: F
)F G
{ 	
try 
{ 
using 
( 

HttpClient !

httpClient" ,
=- .
new/ 2

HttpClient3 =
(= >
)> ?
)? @
{ 

httpClient 
. (
MaxResponseContentBufferSize ;
=< =(
MaxResponseContentBufferSize> Z
;Z [
var 
uri 
= 
UrlConstants *
.* +
GetUri+ 1
(1 2
UrlConstants2 >
.> ?!
GET_WORKORDER_BY_SJID? T
)T U
;U V
var 
formContent #
=$ %
new& )!
FormUrlEncodedContent* ?
(? @
new@ C
[C D
]D E
{   
new!! 
KeyValuePair!! $
<!!$ %
string!!% +
,!!+ ,
string!!, 2
>!!2 3
(!!3 4
$str!!4 B
,!!B C
serviceJobId!!D P
.!!P Q
ToString!!Q Y
(!!Y Z
)!!Z [
)!![ \
,!!\ ]
new"" 
KeyValuePair"" $
<""$ %
string""% +
,""+ ,
string""- 3
>""3 4
(""4 5
$str""5 =
,""= >
UserConfigs""? J
.""J K
USER_ID""K R
.""R S
ToString""S [
(""[ \
)""\ ]
)""] ^
,""^ _
new## 
KeyValuePair## $
<##$ %
string##% +
,##+ ,
string##- 3
>##3 4
(##4 5
$str##5 F
,##F G
UserConfigs##H S
.##S T
PARENTCOMPANY_ID##T d
.##d e
ToString##e m
(##m n
)##n o
)##o p
,##p q
new$$ 
KeyValuePair$$ $
<$$$ %
string$$% +
,$$+ ,
string$$- 3
>$$3 4
($$4 5
ApiConstants$$5 A
.$$A B

TOKEN_NAME$$B L
,$$L M
ApiConstants$$N Z
.$$Z [
KEY$$[ ^
)$$^ _
}%% 
)%% 
;%% 

httpClient'' 
.'' 
Timeout'' &
=''' (
TimeSpan'') 1
.''1 2
FromSeconds''2 =
(''= >
$num''> @
)''@ A
;''A B
HttpResponseMessage)) '
response))( 0
=))1 2
await))3 8

httpClient))9 C
.))C D
	PostAsync))D M
())M N
uri))N Q
,))Q R
formContent))S ^
)))^ _
;))_ `
if++ 
(++ 
response++  
.++  !
IsSuccessStatusCode++! 4
)++4 5
{,, 
try-- 
{.. 
string// "
responseContent//# 2
=//3 4
await//5 :
response//; C
.//C D
Content//D K
.//K L
ReadAsStringAsync//L ]
(//] ^
)//^ _
;//_ `
	WorkOrder11 %
	apiResult11& /
=110 1
JsonConvert112 =
.11= >
DeserializeObject11> O
<11O P
	WorkOrder11P Y
>11Y Z
(11Z [
responseContent11[ j
)11j k
;11k l
return33 "
	apiResult33# ,
;33, -
}44 
catch55 
(55 
	Exception55 (
ex55) +
)55+ ,
{66 
return77 "
new77# &
	WorkOrder77' 0
(770 1
)771 2
;772 3
}88 
}99 
return;; 
new;; 
	WorkOrder;; (
(;;( )
);;) *
;;;* +
}<< 
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>> 
{?? 
return@@ 
null@@ 
;@@ 
}AA 
}BB 	
publicDD 
asyncDD 
TaskDD 
<DD 
	WorkOrderDD #
>DD# $
GetOrderByWOIdDD% 3
(DD3 4
Int64DD4 9
workOrderIdDD: E
)DDE F
{EE 	
tryFF 
{GG 
usingHH 
(HH 

HttpClientHH !

httpClientHH" ,
=HH- .
newHH/ 2

HttpClientHH3 =
(HH= >
)HH> ?
)HH? @
{II 

httpClientJJ 
.JJ (
MaxResponseContentBufferSizeJJ ;
=JJ< =(
MaxResponseContentBufferSizeJJ> Z
;JJZ [
varLL 
uriLL 
=LL 
UrlConstantsLL *
.LL* +
GetUriLL+ 1
(LL1 2
UrlConstantsLL2 >
.LL> ?!
GET_WORKORDER_BY_WOIDLL? T
)LLT U
;LLU V
varNN 
formContentNN #
=NN$ %
newNN& )!
FormUrlEncodedContentNN* ?
(NN? @
newNN@ C
[NNC D
]NND E
{OO 
newPP 
KeyValuePairPP $
<PP$ %
stringPP% +
,PP+ ,
stringPP, 2
>PP2 3
(PP3 4
$strPP4 A
,PPA B
workOrderIdPPC N
.PPN O
ToStringPPO W
(PPW X
)PPX Y
)PPY Z
,PPZ [
newQQ 
KeyValuePairQQ $
<QQ$ %
stringQQ% +
,QQ+ ,
stringQQ- 3
>QQ3 4
(QQ4 5
$strQQ5 =
,QQ= >
UserConfigsQQ? J
.QQJ K
USER_IDQQK R
.QQR S
ToStringQQS [
(QQ[ \
)QQ\ ]
)QQ] ^
,QQ^ _
newRR 
KeyValuePairRR $
<RR$ %
stringRR% +
,RR+ ,
stringRR- 3
>RR3 4
(RR4 5
$strRR5 F
,RRF G
UserConfigsRRH S
.RRS T
PARENTCOMPANY_IDRRT d
.RRd e
ToStringRRe m
(RRm n
)RRn o
)RRo p
,RRp q
newSS 
KeyValuePairSS $
<SS$ %
stringSS% +
,SS+ ,
stringSS- 3
>SS3 4
(SS4 5
ApiConstantsSS5 A
.SSA B

TOKEN_NAMESSB L
,SSL M
ApiConstantsSSN Z
.SSZ [
KEYSS[ ^
)SS^ _
}TT 
)TT 
;TT 

httpClientVV 
.VV 
TimeoutVV &
=VV' (
TimeSpanVV) 1
.VV1 2
FromSecondsVV2 =
(VV= >
$numVV> @
)VV@ A
;VVA B
HttpResponseMessageXX '
responseXX( 0
=XX1 2
awaitXX3 8

httpClientXX9 C
.XXC D
	PostAsyncXXD M
(XXM N
uriXXN Q
,XXQ R
formContentXXS ^
)XX^ _
;XX_ `
ifZZ 
(ZZ 
responseZZ  
.ZZ  !
IsSuccessStatusCodeZZ! 4
)ZZ4 5
{[[ 
try\\ 
{]] 
string^^ "
responseContent^^# 2
=^^3 4
await^^5 :
response^^; C
.^^C D
Content^^D K
.^^K L
ReadAsStringAsync^^L ]
(^^] ^
)^^^ _
;^^_ `
	WorkOrder`` %
	apiResult``& /
=``0 1
JsonConvert``2 =
.``= >
DeserializeObject``> O
<``O P
	WorkOrder``P Y
>``Y Z
(``Z [
responseContent``[ j
)``j k
;``k l
returnbb "
	apiResultbb# ,
;bb, -
}cc 
catchdd 
(dd 
	Exceptiondd (
exdd) +
)dd+ ,
{ee 
returnff "
newff# &
	WorkOrderff' 0
(ff0 1
)ff1 2
;ff2 3
}gg 
}hh 
returnjj 
newjj 
	WorkOrderjj (
(jj( )
)jj) *
;jj* +
}kk 
}ll 
catchmm 
(mm 
	Exceptionmm 
exmm 
)mm  
{nn 
returnoo 
nulloo 
;oo 
}pp 
}qq 	
publicss 
asyncss 
Taskss 
<ss 
IEnumerabless %
<ss% &
	WorkOrderss& /
>ss/ 0
>ss0 1
Getss2 5
(ss5 6
WorkOrderCriss6 B
aCrissC G
)ssG H
{tt 	
tryuu 
{vv 
usingww 
(ww 

HttpClientww !

httpClientww" ,
=ww- .
newww/ 2

HttpClientww3 =
(ww= >
)ww> ?
)ww? @
{xx 

httpClientyy 
.yy (
MaxResponseContentBufferSizeyy ;
=yy< =(
MaxResponseContentBufferSizeyy> Z
;yyZ [
var{{ 
uri{{ 
={{ 
UrlConstants{{ *
.{{* +
GetUri{{+ 1
({{1 2
UrlConstants{{2 >
.{{> ?
GET_WORKORDERS{{? M
){{M N
;{{N O
var}} 
formContent}} #
=}}$ %
new}}& )!
FormUrlEncodedContent}}* ?
(}}? @
new}}@ C
[}}C D
]}}D E
{~~ 
new 
KeyValuePair $
<$ %
string% +
,+ ,
string, 2
>2 3
(3 4
$str4 <
,< =
UserConfigs> I
.I J
USER_IDJ Q
.Q R
ToStringR Z
(Z [
)[ \
)\ ]
,] ^
new
ÄÄ 
KeyValuePair
ÄÄ $
<
ÄÄ$ %
string
ÄÄ% +
,
ÄÄ+ ,
string
ÄÄ- 3
>
ÄÄ3 4
(
ÄÄ4 5
$str
ÄÄ5 F
,
ÄÄF G
UserConfigs
ÄÄH S
.
ÄÄS T
PARENTCOMPANY_ID
ÄÄT d
.
ÄÄd e
ToString
ÄÄe m
(
ÄÄm n
)
ÄÄn o
)
ÄÄo p
,
ÄÄp q
new
ÅÅ 
KeyValuePair
ÅÅ $
<
ÅÅ$ %
string
ÅÅ% +
,
ÅÅ+ ,
string
ÅÅ- 3
>
ÅÅ3 4
(
ÅÅ4 5
ApiConstants
ÅÅ5 A
.
ÅÅA B

TOKEN_NAME
ÅÅB L
,
ÅÅL M
ApiConstants
ÅÅN Z
.
ÅÅZ [
KEY
ÅÅ[ ^
)
ÅÅ^ _
}
ÇÇ 
)
ÇÇ 
;
ÇÇ 

httpClient
ÑÑ 
.
ÑÑ 
Timeout
ÑÑ &
=
ÑÑ' (
TimeSpan
ÑÑ) 1
.
ÑÑ1 2
FromSeconds
ÑÑ2 =
(
ÑÑ= >
$num
ÑÑ> @
)
ÑÑ@ A
;
ÑÑA B!
HttpResponseMessage
ÜÜ '
response
ÜÜ( 0
=
ÜÜ1 2
await
ÜÜ3 8

httpClient
ÜÜ9 C
.
ÜÜC D
	PostAsync
ÜÜD M
(
ÜÜM N
uri
ÜÜN Q
,
ÜÜQ R
formContent
ÜÜS ^
)
ÜÜ^ _
;
ÜÜ_ `
if
àà 
(
àà 
response
àà  
.
àà  !!
IsSuccessStatusCode
àà! 4
)
àà4 5
{
ââ 
IEnumerable
ää #
<
ää# $
	WorkOrder
ää$ -
>
ää- .

workOrders
ää/ 9
=
ää: ;
new
ää< ?
List
ää@ D
<
ääD E
	WorkOrder
ääE N
>
ääN O
(
ääO P
)
ääP Q
;
ääQ R
string
åå 
responseContent
åå .
=
åå/ 0
await
åå1 6
response
åå7 ?
.
åå? @
Content
åå@ G
.
ååG H
ReadAsStringAsync
ååH Y
(
ååY Z
)
ååZ [
;
åå[ \
try
çç 
{
éé 

workOrders
èè &
=
èè' (
JsonConvert
èè) 4
.
èè4 5
DeserializeObject
èè5 F
<
èèF G
IEnumerable
èèG R
<
èèR S
	WorkOrder
èèS \
>
èè\ ]
>
èè] ^
(
èè^ _
responseContent
èè_ n
)
èèn o
;
èèo p
}
êê 
catch
ëë 
(
ëë 
	Exception
ëë (
ex
ëë) +
)
ëë+ ,
{
íí 
}
îî 
return
óó 

workOrders
óó )
.
óó) *
ToList
óó* 0
(
óó0 1
)
óó1 2
;
óó2 3
}
òò 
return
öö 
new
öö 
List
öö #
<
öö# $
	WorkOrder
öö$ -
>
öö- .
(
öö. /
)
öö/ 0
;
öö0 1
}
õõ 
}
úú 
catch
ùù 
(
ùù 
	Exception
ùù 
ex
ùù 
)
ùù 
{
ûû 
return
üü 
new
üü 
List
üü 
<
üü  
	WorkOrder
üü  )
>
üü) *
(
üü* +
)
üü+ ,
;
üü, -
}
†† 
}
°° 	
public
££ 
async
££ 
Task
££ 
<
££ 
bool
££ 
>
££ 
Acknowledge
££  +
(
££+ ,
Int64
££, 1
serviceJobId
££2 >
)
££> ?
{
§§ 	
try
•• 
{
¶¶ 
using
ßß 
(
ßß 

HttpClient
ßß !

httpClient
ßß" ,
=
ßß- .
new
ßß/ 2

HttpClient
ßß3 =
(
ßß= >
)
ßß> ?
)
ßß? @
{
®® 

httpClient
©© 
.
©© *
MaxResponseContentBufferSize
©© ;
=
©©< =*
MaxResponseContentBufferSize
©©> Z
;
©©Z [
var
´´ 
uri
´´ 
=
´´ 
UrlConstants
´´ *
.
´´* +
GetUri
´´+ 1
(
´´1 2
UrlConstants
´´2 >
.
´´> ?#
ACKNOWLEDGE_WORKORDER
´´? T
)
´´T U
;
´´U V
var
≠≠ 
formContent
≠≠ #
=
≠≠$ %
new
≠≠& )#
FormUrlEncodedContent
≠≠* ?
(
≠≠? @
new
≠≠@ C
[
≠≠C D
]
≠≠D E
{
ÆÆ 
new
ØØ 
KeyValuePair
ØØ $
<
ØØ$ %
string
ØØ% +
,
ØØ+ ,
string
ØØ, 2
>
ØØ2 3
(
ØØ3 4
$str
ØØ4 B
,
ØØB C
serviceJobId
ØØD P
.
ØØP Q
ToString
ØØQ Y
(
ØØY Z
)
ØØZ [
)
ØØ[ \
,
ØØ\ ]
new
∞∞ 
KeyValuePair
∞∞ $
<
∞∞$ %
string
∞∞% +
,
∞∞+ ,
string
∞∞- 3
>
∞∞3 4
(
∞∞4 5
$str
∞∞5 F
,
∞∞F G
UserConfigs
∞∞H S
.
∞∞S T
PARENTCOMPANY_ID
∞∞T d
.
∞∞d e
ToString
∞∞e m
(
∞∞m n
)
∞∞n o
)
∞∞o p
,
∞∞p q
new
±± 
KeyValuePair
±± $
<
±±$ %
string
±±% +
,
±±+ ,
string
±±- 3
>
±±3 4
(
±±4 5
ApiConstants
±±5 A
.
±±A B

TOKEN_NAME
±±B L
,
±±L M
ApiConstants
±±N Z
.
±±Z [
KEY
±±[ ^
)
±±^ _
}
≤≤ 
)
≤≤ 
;
≤≤ 

httpClient
¥¥ 
.
¥¥ 
Timeout
¥¥ &
=
¥¥' (
TimeSpan
¥¥) 1
.
¥¥1 2
FromSeconds
¥¥2 =
(
¥¥= >
$num
¥¥> @
)
¥¥@ A
;
¥¥A B!
HttpResponseMessage
∂∂ '
response
∂∂( 0
=
∂∂1 2
await
∂∂3 8

httpClient
∂∂9 C
.
∂∂C D
	PostAsync
∂∂D M
(
∂∂M N
uri
∂∂N Q
,
∂∂Q R
formContent
∂∂S ^
)
∂∂^ _
;
∂∂_ `
if
∏∏ 
(
∏∏ 
response
∏∏  
.
∏∏  !!
IsSuccessStatusCode
∏∏! 4
)
∏∏4 5
{
ππ 
string
∫∫ 
responseContent
∫∫ .
=
∫∫/ 0
await
∫∫1 6
response
∫∫7 ?
.
∫∫? @
Content
∫∫@ G
.
∫∫G H
ReadAsStringAsync
∫∫H Y
(
∫∫Y Z
)
∫∫Z [
;
∫∫[ \
IEnumerable
ºº #
<
ºº# $
	ApiResult
ºº$ -
>
ºº- .

apiResults
ºº/ 9
=
ºº: ;
JsonConvert
ºº< G
.
ººG H
DeserializeObject
ººH Y
<
ººY Z
IEnumerable
ººZ e
<
ººe f
	ApiResult
ººf o
>
ººo p
>
ººp q
(
ººq r
responseContentººr Å
)ººÅ Ç
;ººÇ É
if
ææ 
(
ææ 

apiResults
ææ &
==
ææ' )
null
ææ* .
)
ææ. /
{
øø 
return
¿¿ "
false
¿¿# (
;
¿¿( )
}
¡¡ 
var
√√ 
result
√√ "
=
√√# $

apiResults
√√% /
.
√√/ 0
FirstOrDefault
√√0 >
(
√√> ?
)
√√? @
;
√√@ A
if
≈≈ 
(
≈≈ 
result
≈≈ "
==
≈≈# %
null
≈≈& *
)
≈≈* +
{
∆∆ 
return
«« "
false
««# (
;
««( )
}
»» 
if
   
(
   
result
   "
.
  " #
Id
  # %
==
  & (
$num
  ) ,
)
  , -
{
ÀÀ 
return
ÃÃ "
true
ÃÃ# '
;
ÃÃ' (
}
ÕÕ 
else
ŒŒ 
{
œœ 
return
–– "
false
––# (
;
––( )
}
—— 
}
““ 
else
”” 
{
‘‘ 
return
’’ 
false
’’ $
;
’’$ %
}
÷÷ 
}
◊◊ 
}
ÿÿ 
catch
ŸŸ 
(
ŸŸ 
	Exception
ŸŸ 
ex
ŸŸ 
)
ŸŸ 
{
⁄⁄ 
return
€€ 
false
€€ 
;
€€ 
}
‹‹ 
}
›› 	
public
ﬂﬂ 
async
ﬂﬂ 
Task
ﬂﬂ 
<
ﬂﬂ 
bool
ﬂﬂ 
>
ﬂﬂ 
	BeginTask
ﬂﬂ  )
(
ﬂﬂ) *
Int64
ﬂﬂ* /
serviceJobId
ﬂﬂ0 <
,
ﬂﬂ< =
Position
ﬂﬂ> F
position
ﬂﬂG O
)
ﬂﬂO P
{
‡‡ 	
try
·· 
{
‚‚ 
using
„„ 
(
„„ 

HttpClient
„„ !

httpClient
„„" ,
=
„„- .
new
„„/ 2

HttpClient
„„3 =
(
„„= >
)
„„> ?
)
„„? @
{
‰‰ 

httpClient
ÂÂ 
.
ÂÂ *
MaxResponseContentBufferSize
ÂÂ ;
=
ÂÂ< =*
MaxResponseContentBufferSize
ÂÂ> Z
;
ÂÂZ [
var
ÁÁ 
uri
ÁÁ 
=
ÁÁ 
UrlConstants
ÁÁ *
.
ÁÁ* +
GetUri
ÁÁ+ 1
(
ÁÁ1 2
UrlConstants
ÁÁ2 >
.
ÁÁ> ?

BEGIN_TASK
ÁÁ? I
)
ÁÁI J
;
ÁÁJ K
var
ÈÈ 
formContent
ÈÈ #
=
ÈÈ$ %
new
ÈÈ& )#
FormUrlEncodedContent
ÈÈ* ?
(
ÈÈ? @
new
ÈÈ@ C
[
ÈÈC D
]
ÈÈD E
{
ÍÍ 
new
ÎÎ 
KeyValuePair
ÎÎ $
<
ÎÎ$ %
string
ÎÎ% +
,
ÎÎ+ ,
string
ÎÎ, 2
>
ÎÎ2 3
(
ÎÎ3 4
$str
ÎÎ4 B
,
ÎÎB C
serviceJobId
ÎÎD P
.
ÎÎP Q
ToString
ÎÎQ Y
(
ÎÎY Z
)
ÎÎZ [
)
ÎÎ[ \
,
ÎÎ\ ]
new
ÏÏ 
KeyValuePair
ÏÏ $
<
ÏÏ$ %
string
ÏÏ% +
,
ÏÏ+ ,
string
ÏÏ- 3
>
ÏÏ3 4
(
ÏÏ4 5
$str
ÏÏ5 @
,
ÏÏ@ A
position
ÏÏB J
.
ÏÏJ K
	Longitude
ÏÏK T
.
ÏÏT U
ToString
ÏÏU ]
(
ÏÏ] ^
)
ÏÏ^ _
)
ÏÏ_ `
,
ÏÏ` a
new
ÌÌ 
KeyValuePair
ÌÌ $
<
ÌÌ$ %
string
ÌÌ% +
,
ÌÌ+ ,
string
ÌÌ- 3
>
ÌÌ3 4
(
ÌÌ4 5
$str
ÌÌ5 ?
,
ÌÌ? @
position
ÌÌA I
.
ÌÌI J
Latitude
ÌÌJ R
.
ÌÌR S
ToString
ÌÌS [
(
ÌÌ[ \
)
ÌÌ\ ]
)
ÌÌ] ^
,
ÌÌ^ _
new
ÓÓ 
KeyValuePair
ÓÓ $
<
ÓÓ$ %
string
ÓÓ% +
,
ÓÓ+ ,
string
ÓÓ- 3
>
ÓÓ3 4
(
ÓÓ4 5
$str
ÓÓ5 F
,
ÓÓF G
UserConfigs
ÓÓH S
.
ÓÓS T
PARENTCOMPANY_ID
ÓÓT d
.
ÓÓd e
ToString
ÓÓe m
(
ÓÓm n
)
ÓÓn o
)
ÓÓo p
,
ÓÓp q
new
ÔÔ 
KeyValuePair
ÔÔ $
<
ÔÔ$ %
string
ÔÔ% +
,
ÔÔ+ ,
string
ÔÔ- 3
>
ÔÔ3 4
(
ÔÔ4 5
ApiConstants
ÔÔ5 A
.
ÔÔA B

TOKEN_NAME
ÔÔB L
,
ÔÔL M
ApiConstants
ÔÔN Z
.
ÔÔZ [
KEY
ÔÔ[ ^
)
ÔÔ^ _
}
 
)
 
;
 

httpClient
ÚÚ 
.
ÚÚ 
Timeout
ÚÚ &
=
ÚÚ' (
TimeSpan
ÚÚ) 1
.
ÚÚ1 2
FromSeconds
ÚÚ2 =
(
ÚÚ= >
$num
ÚÚ> @
)
ÚÚ@ A
;
ÚÚA B!
HttpResponseMessage
ÙÙ '
response
ÙÙ( 0
=
ÙÙ1 2
await
ÙÙ3 8

httpClient
ÙÙ9 C
.
ÙÙC D
	PostAsync
ÙÙD M
(
ÙÙM N
uri
ÙÙN Q
,
ÙÙQ R
formContent
ÙÙS ^
)
ÙÙ^ _
;
ÙÙ_ `
if
ˆˆ 
(
ˆˆ 
response
ˆˆ  
.
ˆˆ  !!
IsSuccessStatusCode
ˆˆ! 4
)
ˆˆ4 5
{
˜˜ 
string
¯¯ 
responseContent
¯¯ .
=
¯¯/ 0
await
¯¯1 6
response
¯¯7 ?
.
¯¯? @
Content
¯¯@ G
.
¯¯G H
ReadAsStringAsync
¯¯H Y
(
¯¯Y Z
)
¯¯Z [
;
¯¯[ \
IEnumerable
˙˙ #
<
˙˙# $
	ApiResult
˙˙$ -
>
˙˙- .

apiResults
˙˙/ 9
=
˙˙: ;
JsonConvert
˙˙< G
.
˙˙G H
DeserializeObject
˙˙H Y
<
˙˙Y Z
IEnumerable
˙˙Z e
<
˙˙e f
	ApiResult
˙˙f o
>
˙˙o p
>
˙˙p q
(
˙˙q r
responseContent˙˙r Å
)˙˙Å Ç
;˙˙Ç É
if
¸¸ 
(
¸¸ 

apiResults
¸¸ &
==
¸¸' )
null
¸¸* .
)
¸¸. /
{
˝˝ 
return
˛˛ "
false
˛˛# (
;
˛˛( )
}
ˇˇ 
var
ÅÅ 
result
ÅÅ "
=
ÅÅ# $

apiResults
ÅÅ% /
.
ÅÅ/ 0
FirstOrDefault
ÅÅ0 >
(
ÅÅ> ?
)
ÅÅ? @
;
ÅÅ@ A
if
ÉÉ 
(
ÉÉ 
result
ÉÉ "
==
ÉÉ# %
null
ÉÉ& *
)
ÉÉ* +
{
ÑÑ 
return
ÖÖ "
false
ÖÖ# (
;
ÖÖ( )
}
ÜÜ 
if
àà 
(
àà 
result
àà "
.
àà" #
Id
àà# %
==
àà& (
$num
àà) ,
)
àà, -
{
ââ 
return
ää "
true
ää# '
;
ää' (
}
ãã 
else
åå 
{
çç 
return
éé "
false
éé# (
;
éé( )
}
èè 
}
êê 
else
ëë 
{
íí 
return
ìì 
false
ìì $
;
ìì$ %
}
îî 
}
ïï 
}
ññ 
catch
óó 
(
óó 
	Exception
óó 
ex
óó 
)
óó 
{
òò 
return
ôô 
false
ôô 
;
ôô 
}
öö 
}
õõ 	
public
ùù 
async
ùù 
Task
ùù 
<
ùù 
IEnumerable
ùù %
<
ùù% &

RankEntity
ùù& 0
>
ùù0 1
>
ùù1 2
GetRanks
ùù3 ;
(
ùù; <
)
ùù< =
{
ûû 	
try
üü 
{
†† 
using
°° 
(
°° 

HttpClient
°° !

httpClient
°°" ,
=
°°- .
new
°°/ 2

HttpClient
°°3 =
(
°°= >
)
°°> ?
)
°°? @
{
¢¢ 

httpClient
££ 
.
££ *
MaxResponseContentBufferSize
££ ;
=
££< =*
MaxResponseContentBufferSize
££> Z
;
££Z [
var
•• 
uri
•• 
=
•• 
UrlConstants
•• *
.
••* +
GetUri
••+ 1
(
••1 2
UrlConstants
••2 >
.
••> ?
	GET_RANKS
••? H
)
••H I
;
••I J
var
ßß 
formContent
ßß #
=
ßß$ %
new
ßß& )#
FormUrlEncodedContent
ßß* ?
(
ßß? @
new
ßß@ C
[
ßßC D
]
ßßD E
{
®® 
new
©© 
KeyValuePair
©© $
<
©©$ %
string
©©% +
,
©©+ ,
string
©©- 3
>
©©3 4
(
©©4 5
$str
©©5 F
,
©©F G
UserConfigs
©©H S
.
©©S T
PARENTCOMPANY_ID
©©T d
.
©©d e
ToString
©©e m
(
©©m n
)
©©n o
)
©©o p
,
©©p q
new
™™ 
KeyValuePair
™™ $
<
™™$ %
string
™™% +
,
™™+ ,
string
™™- 3
>
™™3 4
(
™™4 5
ApiConstants
™™5 A
.
™™A B

TOKEN_NAME
™™B L
,
™™L M
ApiConstants
™™N Z
.
™™Z [
KEY
™™[ ^
)
™™^ _
}
´´ 
)
´´ 
;
´´ 

httpClient
≠≠ 
.
≠≠ 
Timeout
≠≠ &
=
≠≠' (
TimeSpan
≠≠) 1
.
≠≠1 2
FromSeconds
≠≠2 =
(
≠≠= >
$num
≠≠> @
)
≠≠@ A
;
≠≠A B
try
ØØ 
{
∞∞ !
HttpResponseMessage
±± +
response
±±, 4
=
±±5 6
await
±±7 <

httpClient
±±= G
.
±±G H
	PostAsync
±±H Q
(
±±Q R
uri
±±R U
,
±±U V
formContent
±±W b
)
±±b c
;
±±c d
if
≥≥ 
(
≥≥ 
response
≥≥ $
.
≥≥$ %!
IsSuccessStatusCode
≥≥% 8
)
≥≥8 9
{
¥¥ 
string
µµ "
responseContent
µµ# 2
=
µµ3 4
await
µµ5 :
response
µµ; C
.
µµC D
Content
µµD K
.
µµK L
ReadAsStringAsync
µµL ]
(
µµ] ^
)
µµ^ _
;
µµ_ `
IEnumerable
∑∑ '
<
∑∑' (

RankEntity
∑∑( 2
>
∑∑2 3

rankModels
∑∑4 >
=
∑∑? @
JsonConvert
∑∑A L
.
∑∑L M
DeserializeObject
∑∑M ^
<
∑∑^ _
IEnumerable
∑∑_ j
<
∑∑j k

RankEntity
∑∑k u
>
∑∑u v
>
∑∑v w
(
∑∑w x
responseContent∑∑x á
)∑∑á à
;∑∑à â
return
ππ "

rankModels
ππ# -
.
ππ- .
ToList
ππ. 4
(
ππ4 5
)
ππ5 6
;
ππ6 7
}
∫∫ 
else
ªª 
{
ºº 
return
ΩΩ "
new
ΩΩ# &
List
ΩΩ' +
<
ΩΩ+ ,

RankEntity
ΩΩ, 6
>
ΩΩ6 7
(
ΩΩ7 8
)
ΩΩ8 9
;
ΩΩ9 :
}
ææ 
}
¿¿ 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ $
ex
¬¬% '
)
¬¬' (
{
√√ 
return
ƒƒ 
null
ƒƒ #
;
ƒƒ# $
}
≈≈ 
}
∆∆ 
}
«« 
catch
»» 
(
»» 
	Exception
»» 
ex
»» 
)
»» 
{
…… 
return
   
null
   
;
   
}
ÀÀ 
}
ÃÃ 	
public
ŒŒ 
async
ŒŒ 
Task
ŒŒ 
<
ŒŒ 
bool
ŒŒ 
>
ŒŒ 
EndTask
ŒŒ  '
(
ŒŒ' (
Int64
ŒŒ( -
serviceJobId
ŒŒ. :
,
ŒŒ: ;
Position
ŒŒ< D
position
ŒŒE M
,
ŒŒM N
Int64
ŒŒO T
rankId
ŒŒU [
,
ŒŒ[ \
string
ŒŒ] c
signatureName
ŒŒd q
,
ŒŒq r
string
ŒŒs y
	pickUpPaxŒŒz É
,ŒŒÉ Ñ
stringŒŒÖ ã
standByDateŒŒå ó
,ŒŒó ò
stringŒŒô ü
standByTimeŒŒ† ´
,ŒŒ´ ¨
stringŒŒ≠ ≥
reasonŒŒ¥ ∫
)ŒŒ∫ ª
{
œœ 	
try
–– 
{
—— 
using
““ 
(
““ 

HttpClient
““ !

httpClient
““" ,
=
““- .
new
““/ 2

HttpClient
““3 =
(
““= >
)
““> ?
)
““? @
{
”” 

httpClient
‘‘ 
.
‘‘ *
MaxResponseContentBufferSize
‘‘ ;
=
‘‘< =*
MaxResponseContentBufferSize
‘‘> Z
;
‘‘Z [
var
÷÷ 
uri
÷÷ 
=
÷÷ 
UrlConstants
÷÷ *
.
÷÷* +
GetUri
÷÷+ 1
(
÷÷1 2
UrlConstants
÷÷2 >
.
÷÷> ?
END_TASK
÷÷? G
)
÷÷G H
;
÷÷H I
var
ÿÿ 
formContent
ÿÿ #
=
ÿÿ$ %
new
ÿÿ& )#
FormUrlEncodedContent
ÿÿ* ?
(
ÿÿ? @
new
ÿÿ@ C
[
ÿÿC D
]
ÿÿD E
{
ŸŸ 
new
⁄⁄ 
KeyValuePair
⁄⁄ $
<
⁄⁄$ %
string
⁄⁄% +
,
⁄⁄+ ,
string
⁄⁄, 2
>
⁄⁄2 3
(
⁄⁄3 4
$str
⁄⁄4 B
,
⁄⁄B C
serviceJobId
⁄⁄D P
.
⁄⁄P Q
ToString
⁄⁄Q Y
(
⁄⁄Y Z
)
⁄⁄Z [
)
⁄⁄[ \
,
⁄⁄\ ]
new
€€ 
KeyValuePair
€€ $
<
€€$ %
string
€€% +
,
€€+ ,
string
€€- 3
>
€€3 4
(
€€4 5
$str
€€5 @
,
€€@ A
position
€€B J
.
€€J K
	Longitude
€€K T
.
€€T U
ToString
€€U ]
(
€€] ^
)
€€^ _
)
€€_ `
,
€€` a
new
‹‹ 
KeyValuePair
‹‹ $
<
‹‹$ %
string
‹‹% +
,
‹‹+ ,
string
‹‹- 3
>
‹‹3 4
(
‹‹4 5
$str
‹‹5 ?
,
‹‹? @
position
‹‹A I
.
‹‹I J
Latitude
‹‹J R
.
‹‹R S
ToString
‹‹S [
(
‹‹[ \
)
‹‹\ ]
)
‹‹] ^
,
‹‹^ _
new
›› 
KeyValuePair
›› $
<
››$ %
string
››% +
,
››+ ,
string
››- 3
>
››3 4
(
››4 5
$str
››5 =
,
››= >
UserConfigs
››? J
.
››J K
USER_ID
››K R
.
››R S
ToString
››S [
(
››[ \
)
››\ ]
)
››] ^
,
››^ _
new
ﬁﬁ 
KeyValuePair
ﬁﬁ $
<
ﬁﬁ$ %
string
ﬁﬁ% +
,
ﬁﬁ+ ,
string
ﬁﬁ- 3
>
ﬁﬁ3 4
(
ﬁﬁ4 5
$str
ﬁﬁ5 =
,
ﬁﬁ= >
rankId
ﬁﬁ? E
.
ﬁﬁE F
ToString
ﬁﬁF N
(
ﬁﬁN O
)
ﬁﬁO P
)
ﬁﬁP Q
,
ﬁﬁQ R
new
ﬂﬂ 
KeyValuePair
ﬂﬂ $
<
ﬂﬂ$ %
string
ﬂﬂ% +
,
ﬂﬂ+ ,
string
ﬂﬂ- 3
>
ﬂﬂ3 4
(
ﬂﬂ4 5
$str
ﬂﬂ5 D
,
ﬂﬂD E
signatureName
ﬂﬂF S
.
ﬂﬂS T
ToString
ﬂﬂT \
(
ﬂﬂ\ ]
)
ﬂﬂ] ^
)
ﬂﬂ^ _
,
ﬂﬂ_ `
new
‡‡ 
KeyValuePair
‡‡ $
<
‡‡$ %
string
‡‡% +
,
‡‡+ ,
string
‡‡- 3
>
‡‡3 4
(
‡‡4 5
$str
‡‡5 @
,
‡‡@ A
	pickUpPax
‡‡B K
.
‡‡K L
ToString
‡‡L T
(
‡‡T U
)
‡‡U V
)
‡‡V W
,
‡‡W X
new
·· 
KeyValuePair
·· $
<
··$ %
string
··% +
,
··+ ,
string
··- 3
>
··3 4
(
··4 5
$str
··5 B
,
··B C
standByDate
··D O
)
··O P
,
··P Q
new
‚‚ 
KeyValuePair
‚‚ $
<
‚‚$ %
string
‚‚% +
,
‚‚+ ,
string
‚‚- 3
>
‚‚3 4
(
‚‚4 5
$str
‚‚5 B
,
‚‚B C
standByTime
‚‚D O
)
‚‚O P
,
‚‚P Q
new
„„ 
KeyValuePair
„„ $
<
„„$ %
string
„„% +
,
„„+ ,
string
„„- 3
>
„„3 4
(
„„4 5
$str
„„5 =
,
„„= >
reason
„„? E
)
„„E F
,
„„F G
new
‰‰ 
KeyValuePair
‰‰ $
<
‰‰$ %
string
‰‰% +
,
‰‰+ ,
string
‰‰- 3
>
‰‰3 4
(
‰‰4 5
$str
‰‰5 F
,
‰‰F G
UserConfigs
‰‰H S
.
‰‰S T
PARENTCOMPANY_ID
‰‰T d
.
‰‰d e
ToString
‰‰e m
(
‰‰m n
)
‰‰n o
)
‰‰o p
,
‰‰p q
new
ÂÂ 
KeyValuePair
ÂÂ $
<
ÂÂ$ %
string
ÂÂ% +
,
ÂÂ+ ,
string
ÂÂ- 3
>
ÂÂ3 4
(
ÂÂ4 5
ApiConstants
ÂÂ5 A
.
ÂÂA B

TOKEN_NAME
ÂÂB L
,
ÂÂL M
ApiConstants
ÂÂN Z
.
ÂÂZ [
KEY
ÂÂ[ ^
)
ÂÂ^ _
}
ÊÊ 
)
ÊÊ 
;
ÊÊ 

httpClient
ËË 
.
ËË 
Timeout
ËË &
=
ËË' (
TimeSpan
ËË) 1
.
ËË1 2
FromSeconds
ËË2 =
(
ËË= >
$num
ËË> @
)
ËË@ A
;
ËËA B!
HttpResponseMessage
ÍÍ '
response
ÍÍ( 0
=
ÍÍ1 2
await
ÍÍ3 8

httpClient
ÍÍ9 C
.
ÍÍC D
	PostAsync
ÍÍD M
(
ÍÍM N
uri
ÍÍN Q
,
ÍÍQ R
formContent
ÍÍS ^
)
ÍÍ^ _
;
ÍÍ_ `
if
ÏÏ 
(
ÏÏ 
response
ÏÏ  
.
ÏÏ  !!
IsSuccessStatusCode
ÏÏ! 4
)
ÏÏ4 5
{
ÌÌ 
string
ÓÓ 
responseContent
ÓÓ .
=
ÓÓ/ 0
await
ÓÓ1 6
response
ÓÓ7 ?
.
ÓÓ? @
Content
ÓÓ@ G
.
ÓÓG H
ReadAsStringAsync
ÓÓH Y
(
ÓÓY Z
)
ÓÓZ [
;
ÓÓ[ \
IEnumerable
 #
<
# $
	ApiResult
$ -
>
- .

apiResults
/ 9
=
: ;
JsonConvert
< G
.
G H
DeserializeObject
H Y
<
Y Z
IEnumerable
Z e
<
e f
	ApiResult
f o
>
o p
>
p q
(
q r
responseContentr Å
)Å Ç
;Ç É
if
ÚÚ 
(
ÚÚ 

apiResults
ÚÚ &
==
ÚÚ' )
null
ÚÚ* .
)
ÚÚ. /
{
ÛÛ 
return
ÙÙ "
false
ÙÙ# (
;
ÙÙ( )
}
ıı 
var
˜˜ 
result
˜˜ "
=
˜˜# $

apiResults
˜˜% /
.
˜˜/ 0
FirstOrDefault
˜˜0 >
(
˜˜> ?
)
˜˜? @
;
˜˜@ A
if
˘˘ 
(
˘˘ 
result
˘˘ "
==
˘˘# %
null
˘˘& *
)
˘˘* +
{
˙˙ 
return
˚˚ "
false
˚˚# (
;
˚˚( )
}
¸¸ 
if
˛˛ 
(
˛˛ 
result
˛˛ "
.
˛˛" #
Id
˛˛# %
==
˛˛& (
$num
˛˛) ,
)
˛˛, -
{
ˇˇ 
return
ÄÄ "
true
ÄÄ# '
;
ÄÄ' (
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 
return
ÑÑ "
false
ÑÑ# (
;
ÑÑ( )
}
ÖÖ 
}
ÜÜ 
else
áá 
{
àà 
return
ââ 
false
ââ $
;
ââ$ %
}
ää 
}
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç 
ex
çç 
)
çç 
{
éé 
return
èè 
false
èè 
;
èè 
}
êê 
}
ëë 	
}
íí 
}ìì ‹5
VC:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\WorkOrders\SnapShotService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
.) *

WorkOrders* 4
{ 
public 

class 
SnapShotService  
{ 
private 
int (
MaxResponseContentBufferSize 0
=1 2
$num3 9
;9 :
public 
async 
Task 
< 
bool 
> 
Save  $
($ %
SnapShot% -
sEntity. 5
)5 6
{ 	
try 
{ 
using 
( 

HttpClient !

httpClient" ,
=- .
new/ 2

HttpClient3 =
(= >
)> ?
)? @
{ 

httpClient 
. (
MaxResponseContentBufferSize ;
=< =(
MaxResponseContentBufferSize> Z
;Z [$
MultipartFormDataContent ,
content- 4
=5 6
new7 :$
MultipartFormDataContent; S
(S T
)T U
;U V
ByteArrayContent $
	baContent% .
=/ 0
new1 4
ByteArrayContent5 E
(E F
sEntityF M
.M N
snapShotFileN Z
)Z [
;[ \
StringContent !
fileName" *
=+ ,
new- 0
StringContent1 >
(> ?
sEntity? F
.F G
filenameG O
)O P
;P Q
StringContent   !
serviceJobId  " .
=  / 0
new  1 4
StringContent  5 B
(  B C
sEntity  C J
.  J K
serviceJobId  K W
.  W X
ToString  X `
(  ` a
)  a b
)  b c
;  c d
StringContent!! !
fileDescription!!" 1
=!!2 3
new!!4 7
StringContent!!8 E
(!!E F
sEntity!!F M
.!!M N
description!!N Y
.!!Y Z
ToString!!Z b
(!!b c
)!!c d
)!!d e
;!!e f
StringContent"" !
userId""" (
="") *
new""+ .
StringContent""/ <
(""< =
UserConfigs""= H
.""H I
USER_ID""I P
.""P Q
ToString""Q Y
(""Y Z
)""Z [
)""[ \
;""\ ]
StringContent## !
parentCompanyId##" 1
=##2 3
new##4 7
StringContent##8 E
(##E F
UserConfigs##F Q
.##Q R
PARENTCOMPANY_ID##R b
.##b c
ToString##c k
(##k l
)##l m
)##m n
;##n o
StringContent$$ !
api$$" %
=$$& '
new$$( +
StringContent$$, 9
($$9 :
ApiConstants$$: F
.$$F G
KEY$$G J
)$$J K
;$$K L
content&& 
.&& 
Add&& 
(&&  
	baContent&&  )
,&&) *
$str&&+ 1
,&&1 2
sEntity&&3 :
.&&: ;
filename&&; C
+&&D E
$str&&F L
)&&L M
;&&M N
content'' 
.'' 
Add'' 
(''  
fileName''  (
,''( )
$str''* 4
)''4 5
;''5 6
content(( 
.(( 
Add(( 
(((  
fileDescription((  /
,((/ 0
$str((1 B
)((B C
;((C D
content)) 
.)) 
Add)) 
())  
serviceJobId))  ,
,)), -
$str)). <
)))< =
;))= >
content** 
.** 
Add** 
(**  
userId**  &
,**& '
$str**( 0
)**0 1
;**1 2
content++ 
.++ 
Add++ 
(++  
parentCompanyId++  /
,++/ 0
$str++1 B
)++B C
;++C D
content,, 
.,, 
Add,, 
(,,  
api,,  #
,,,# $
ApiConstants,,% 1
.,,1 2

TOKEN_NAME,,2 <
),,< =
;,,= >
var.. 
uri.. 
=.. 
UrlConstants.. *
...* +
GetUri..+ 1
(..1 2
UrlConstants..2 >
...> ?
UPLOAD_SNAPSHOT..? N
)..N O
;..O P

httpClient00 
.00 
Timeout00 &
=00' (
TimeSpan00) 1
.001 2
FromSeconds002 =
(00= >
$num00> @
)00@ A
;00A B
var22 
response22  
=22! "
await22# (

httpClient22) 3
.223 4
	PostAsync224 =
(22= >
uri22> A
,22A B
content22C J
)22J K
;22K L
if44 
(44 
response44  
.44  !
IsSuccessStatusCode44! 4
)444 5
{55 
string66 
responseContent66 .
=66/ 0
await661 6
response667 ?
.66? @
Content66@ G
.66G H
ReadAsStringAsync66H Y
(66Y Z
)66Z [
;66[ \
IEnumerable88 #
<88# $
	ApiResult88$ -
>88- .

apiResults88/ 9
=88: ;
JsonConvert88< G
.88G H
DeserializeObject88H Y
<88Y Z
IEnumerable88Z e
<88e f
	ApiResult88f o
>88o p
>88p q
(88q r
responseContent	88r Å
)
88Å Ç
;
88Ç É
if:: 
(:: 

apiResults:: &
==::' )
null::* .
)::. /
{;; 
return<< "
false<<# (
;<<( )
}== 
var?? 
result?? "
=??# $

apiResults??% /
.??/ 0
FirstOrDefault??0 >
(??> ?
)??? @
;??@ A
ifAA 
(AA 
resultAA "
==AA# %
nullAA& *
)AA* +
{BB 
returnCC "
falseCC# (
;CC( )
}DD 
ifFF 
(FF 
resultFF "
.FF" #
IdFF# %
==FF& (
$numFF) ,
)FF, -
{GG 
returnHH "
trueHH# '
;HH' (
}II 
elseJJ 
{KK 
returnLL "
falseLL# (
;LL( )
}MM 
}NN 
elseOO 
{PP 
returnQQ 
falseQQ $
;QQ$ %
}RR 
}SS 
}TT 
catchUU 
(UU 
	ExceptionUU 
exUU 
)UU 
{VV 
returnWW 
falseWW 
;WW 
}XX 
}YY 	
}ZZ 
}[[ õe
WC:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\WorkOrders\SignatureService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
.) *

WorkOrders* 4
{ 
public 

class 
SignatureService !
{ 
private 
int (
MaxResponseContentBufferSize 0
=1 2
$num3 9
;9 :
public 
async 
Task 
< 
bool 
> 
Save  $
($ %
	Signature% .
aEntity/ 6
)6 7
{ 	
try 
{ 
using 
( 

HttpClient !

httpClient" ,
=- .
new/ 2

HttpClient3 =
(= >
)> ?
)? @
{ 

httpClient 
. (
MaxResponseContentBufferSize ;
=< =(
MaxResponseContentBufferSize> Z
;Z [$
MultipartFormDataContent ,
content- 4
=5 6
new7 :$
MultipartFormDataContent; S
(S T
)T U
;U V
ByteArrayContent $
	baContent% .
=/ 0
new1 4
ByteArrayContent5 E
(E F
aEntityF M
.M N
signatureFileN [
)[ \
;\ ]
StringContent !
serviceJobId" .
=/ 0
new1 4
StringContent5 B
(B C
aEntityC J
.J K
serviceJobIdK W
.W X
ToStringX `
(` a
)a b
)b c
;c d
StringContent   !
userId  " (
=  ) *
new  + .
StringContent  / <
(  < =
UserConfigs  = H
.  H I
USER_ID  I P
.  P Q
ToString  Q Y
(  Y Z
)  Z [
)  [ \
;  \ ]
StringContent!! !
signatureName!!" /
=!!0 1
new!!2 5
StringContent!!6 C
(!!C D
aEntity!!D K
.!!K L
signatureName!!L Y
)!!Y Z
;!!Z [
StringContent"" !
parentCompanyId""" 1
=""2 3
new""4 7
StringContent""8 E
(""E F
UserConfigs""F Q
.""Q R
PARENTCOMPANY_ID""R b
.""b c
ToString""c k
(""k l
)""l m
)""m n
;""n o
StringContent## !
api##" %
=##& '
new##( +
StringContent##, 9
(##9 :
ApiConstants##: F
.##F G
KEY##G J
)##J K
;##K L
content%% 
.%% 
Add%% 
(%%  
	baContent%%  )
,%%) *
$str%%+ 1
,%%1 2
serviceJobId%%3 ?
+%%@ A
$str%%B H
)%%H I
;%%I J
content&& 
.&& 
Add&& 
(&&  
serviceJobId&&  ,
,&&, -
$str&&. <
)&&< =
;&&= >
content'' 
.'' 
Add'' 
(''  
userId''  &
,''& '
$str''( 0
)''0 1
;''1 2
content(( 
.(( 
Add(( 
(((  
signatureName((  -
,((- .
$str((/ >
)((> ?
;((? @
content)) 
.)) 
Add)) 
())  
parentCompanyId))  /
,))/ 0
$str))1 B
)))B C
;))C D
content** 
.** 
Add** 
(**  
api**  #
,**# $
ApiConstants**% 1
.**1 2

TOKEN_NAME**2 <
)**< =
;**= >
var,, 
uri,, 
=,, 
UrlConstants,, *
.,,* +
GetUri,,+ 1
(,,1 2
UrlConstants,,2 >
.,,> ?
SUBMIT_SIGNATURE,,? O
),,O P
;,,P Q

httpClient.. 
... 
Timeout.. &
=..' (
TimeSpan..) 1
...1 2
FromSeconds..2 =
(..= >
$num..> @
)..@ A
;..A B
var00 
response00  
=00! "
await00# (

httpClient00) 3
.003 4
	PostAsync004 =
(00= >
uri00> A
,00A B
content00C J
)00J K
;00K L
if22 
(22 
response22  
.22  !
IsSuccessStatusCode22! 4
)224 5
{33 
string44 
responseContent44 .
=44/ 0
await441 6
response447 ?
.44? @
Content44@ G
.44G H
ReadAsStringAsync44H Y
(44Y Z
)44Z [
;44[ \
IEnumerable66 #
<66# $
	ApiResult66$ -
>66- .

apiResults66/ 9
=66: ;
JsonConvert66< G
.66G H
DeserializeObject66H Y
<66Y Z
IEnumerable66Z e
<66e f
	ApiResult66f o
>66o p
>66p q
(66q r
responseContent	66r Å
)
66Å Ç
;
66Ç É
if88 
(88 

apiResults88 &
==88' )
null88* .
)88. /
{99 
return:: "
false::# (
;::( )
};; 
var== 
result== "
===# $

apiResults==% /
.==/ 0
FirstOrDefault==0 >
(==> ?
)==? @
;==@ A
if?? 
(?? 
result?? "
==??# %
null??& *
)??* +
{@@ 
returnAA "
falseAA# (
;AA( )
}BB 
ifDD 
(DD 
resultDD "
.DD" #
IdDD# %
==DD& (
$numDD) ,
)DD, -
{EE 
returnFF "
trueFF# '
;FF' (
}GG 
elseHH 
{II 
returnJJ "
falseJJ# (
;JJ( )
}KK 
}LL 
elseMM 
{NN 
returnOO 
falseOO $
;OO$ %
}PP 
}QQ 
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS 
{TT 
returnUU 
falseUU 
;UU 
}VV 
}WW 	
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
boolZZ 
>ZZ 
SaveWithPassengerIdZZ  3
(ZZ3 4
	SignatureZZ4 =
aEntityZZ> E
)ZZE F
{[[ 	
try\\ 
{]] 
using^^ 
(^^ 

HttpClient^^ !

httpClient^^" ,
=^^- .
new^^/ 2

HttpClient^^3 =
(^^= >
)^^> ?
)^^? @
{__ 

httpClient`` 
.`` (
MaxResponseContentBufferSize`` ;
=``< =(
MaxResponseContentBufferSize``> Z
;``Z [$
MultipartFormDataContentbb ,
contentbb- 4
=bb5 6
newbb7 :$
MultipartFormDataContentbb; S
(bbS T
)bbT U
;bbU V
ByteArrayContentdd $
	baContentdd% .
=dd/ 0
newdd1 4
ByteArrayContentdd5 E
(ddE F
aEntityddF M
.ddM N
signatureFileddN [
)dd[ \
;dd\ ]
StringContentff !
serviceJobIdff" .
=ff/ 0
newff1 4
StringContentff5 B
(ffB C
aEntityffC J
.ffJ K
serviceJobIdffK W
.ffW X
ToStringffX `
(ff` a
)ffa b
)ffb c
;ffc d
StringContentgg !
userIdgg" (
=gg) *
newgg+ .
StringContentgg/ <
(gg< =
UserConfigsgg= H
.ggH I
USER_IDggI P
.ggP Q
ToStringggQ Y
(ggY Z
)ggZ [
)gg[ \
;gg\ ]
StringContenthh !
signatureNamehh" /
=hh0 1
newhh2 5
StringContenthh6 C
(hhC D
aEntityhhD K
.hhK L
signatureNamehhL Y
)hhY Z
;hhZ [
StringContentii !
signerPassengerIdii" 3
=ii4 5
newii6 9
StringContentii: G
(iiG H
aEntityiiH O
.iiO P
PassengerIdiiP [
.ii[ \
ToStringii\ d
(iid e
)iie f
)iif g
;iig h
StringContentjj !
parentCompanyIdjj" 1
=jj2 3
newjj4 7
StringContentjj8 E
(jjE F
UserConfigsjjF Q
.jjQ R
PARENTCOMPANY_IDjjR b
.jjb c
ToStringjjc k
(jjk l
)jjl m
)jjm n
;jjn o
StringContentkk !
apikk" %
=kk& '
newkk( +
StringContentkk, 9
(kk9 :
ApiConstantskk: F
.kkF G
KEYkkG J
)kkJ K
;kkK L
contentmm 
.mm 
Addmm 
(mm  
	baContentmm  )
,mm) *
$strmm+ 1
,mm1 2
serviceJobIdmm3 ?
+mm@ A
$strmmB H
)mmH I
;mmI J
contentnn 
.nn 
Addnn 
(nn  
serviceJobIdnn  ,
,nn, -
$strnn. <
)nn< =
;nn= >
contentoo 
.oo 
Addoo 
(oo  
userIdoo  &
,oo& '
$stroo( 0
)oo0 1
;oo1 2
contentpp 
.pp 
Addpp 
(pp  
signatureNamepp  -
,pp- .
$strpp/ >
)pp> ?
;pp? @
contentqq 
.qq 
Addqq 
(qq  
signerPassengerIdqq  1
,qq1 2
$strqq3 F
)qqF G
;qqG H
contentrr 
.rr 
Addrr 
(rr  
parentCompanyIdrr  /
,rr/ 0
$strrr1 B
)rrB C
;rrC D
contentss 
.ss 
Addss 
(ss  
apiss  #
,ss# $
ApiConstantsss% 1
.ss1 2

TOKEN_NAMEss2 <
)ss< =
;ss= >
varuu 
uriuu 
=uu 
UrlConstantsuu *
.uu* +
GetUriuu+ 1
(uu1 2
UrlConstantsuu2 >
.uu> ?+
SUBMIT_SIGNATURE_WITH_PASSENGERuu? ^
)uu^ _
;uu_ `

httpClientww 
.ww 
Timeoutww &
=ww' (
TimeSpanww) 1
.ww1 2
FromSecondsww2 =
(ww= >
$numww> @
)ww@ A
;wwA B
varyy 
responseyy  
=yy! "
awaityy# (

httpClientyy) 3
.yy3 4
	PostAsyncyy4 =
(yy= >
uriyy> A
,yyA B
contentyyC J
)yyJ K
;yyK L
if{{ 
({{ 
response{{  
.{{  !
IsSuccessStatusCode{{! 4
){{4 5
{|| 
string}} 
responseContent}} .
=}}/ 0
await}}1 6
response}}7 ?
.}}? @
Content}}@ G
.}}G H
ReadAsStringAsync}}H Y
(}}Y Z
)}}Z [
;}}[ \
IEnumerable #
<# $
	ApiResult$ -
>- .

apiResults/ 9
=: ;
JsonConvert< G
.G H
DeserializeObjectH Y
<Y Z
IEnumerableZ e
<e f
	ApiResultf o
>o p
>p q
(q r
responseContent	r Å
)
Å Ç
;
Ç É
if
ÅÅ 
(
ÅÅ 

apiResults
ÅÅ &
==
ÅÅ' )
null
ÅÅ* .
)
ÅÅ. /
{
ÇÇ 
return
ÉÉ "
false
ÉÉ# (
;
ÉÉ( )
}
ÑÑ 
var
ÜÜ 
result
ÜÜ "
=
ÜÜ# $

apiResults
ÜÜ% /
.
ÜÜ/ 0
FirstOrDefault
ÜÜ0 >
(
ÜÜ> ?
)
ÜÜ? @
;
ÜÜ@ A
if
àà 
(
àà 
result
àà "
==
àà# %
null
àà& *
)
àà* +
{
ââ 
return
ää "
false
ää# (
;
ää( )
}
ãã 
if
çç 
(
çç 
result
çç "
.
çç" #
Id
çç# %
==
çç& (
$num
çç) ,
)
çç, -
{
éé 
return
èè "
true
èè# '
;
èè' (
}
êê 
else
ëë 
{
íí 
return
ìì "
false
ìì# (
;
ìì( )
}
îî 
}
ïï 
else
ññ 
{
óó 
return
òò 
false
òò $
;
òò$ %
}
ôô 
}
öö 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
ex
úú 
)
úú  
{
ùù 
return
ûû 
false
ûû 
;
ûû 
}
üü 
}
†† 	
}
°° 
}¢¢ ˘Y
_C:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\WorkOrders\PendingSignEntityService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
.) *

WorkOrders* 4
{ 
public 

class $
PendingSignEntityService )
{ 
	protected 
int (
MaxResponseContentBufferSize 2
=3 4
$num5 ;
;; <
public 
async 
Task 
< 
IEnumerable %
<% &
PendingSignEntity& 7
>7 8
>8 9
Get: =
(= > 
PendingSignEntityCri> R
aCriS W
)W X
{ 	
try 
{ 
using 
( 

HttpClient !

httpClient" ,
=- .
new/ 2

HttpClient3 =
(= >
)> ?
)? @
{ 

httpClient 
. (
MaxResponseContentBufferSize ;
=< =(
MaxResponseContentBufferSize> Z
;Z [
var 
uri 
= 
UrlConstants *
.* +
GetUri+ 1
(1 2
UrlConstants2 >
.> ?!
GET_PENDINGSIGNMODELS? T
)T U
;U V
var 
formContent #
=$ %
new& )!
FormUrlEncodedContent* ?
(? @
new@ C
[C D
]D E
{ 
new   
KeyValuePair   $
<  $ %
string  % +
,  + ,
string  - 3
>  3 4
(  4 5
$str  5 F
,  F G
UserConfigs  H S
.  S T
PARENTCOMPANY_ID  T d
.  d e
ToString  e m
(  m n
)  n o
)  o p
,  p q
new!! 
KeyValuePair!! $
<!!$ %
string!!% +
,!!+ ,
string!!- 3
>!!3 4
(!!4 5
ApiConstants!!5 A
.!!A B

TOKEN_NAME!!B L
,!!L M
ApiConstants!!N Z
.!!Z [
KEY!![ ^
)!!^ _
}"" 
)"" 
;"" 

httpClient$$ 
.$$ 
Timeout$$ &
=$$' (
TimeSpan$$) 1
.$$1 2
FromSeconds$$2 =
($$= >
$num$$> @
)$$@ A
;$$A B
try&& 
{'' 
HttpResponseMessage(( +
response((, 4
=((5 6
await((7 <

httpClient((= G
.((G H
	PostAsync((H Q
(((Q R
uri((R U
,((U V
formContent((W b
)((b c
;((c d
if** 
(** 
response** $
.**$ %
IsSuccessStatusCode**% 8
)**8 9
{++ 
string,, "
responseContent,,# 2
=,,3 4
await,,5 :
response,,; C
.,,C D
Content,,D K
.,,K L
ReadAsStringAsync,,L ]
(,,] ^
),,^ _
;,,_ `
IEnumerable.. '
<..' (
PendingSignEntity..( 9
>..9 :
pendingSignModels..; L
=..M N
JsonConvert..O Z
...Z [
DeserializeObject..[ l
<..l m
IEnumerable..m x
<..x y
PendingSignEntity	..y ä
>
..ä ã
>
..ã å
(
..å ç
responseContent
..ç ú
)
..ú ù
;
..ù û
return00 "
pendingSignModels00# 4
.004 5
ToList005 ;
(00; <
)00< =
;00= >
}11 
else22 
{33 
return44 "
new44# &
List44' +
<44+ ,
PendingSignEntity44, =
>44= >
(44> ?
)44? @
;44@ A
}55 
}77 
catch99 
(99 
	Exception99 $
ex99% '
)99' (
{:: 
return;; 
null;; #
;;;# $
}<< 
}== 
}>> 
catch?? 
(?? 
	Exception?? 
ex?? 
)?? 
{@@ 
returnAA 
nullAA 
;AA 
}BB 
}CC 	
publicEE 
asyncEE 
TaskEE 
<EE 
boolEE 
>EE 
SaveEE  $
(EE$ %&
CompletedPendingSignEntityEE% ?
aEntityEE@ G
)EEG H
{FF 	
tryGG 
{HH 
usingII 
(II 

HttpClientII !

httpClientII" ,
=II- .
newII/ 2

HttpClientII3 =
(II= >
)II> ?
)II? @
{JJ 

httpClientKK 
.KK (
MaxResponseContentBufferSizeKK ;
=KK< =(
MaxResponseContentBufferSizeKK> Z
;KKZ [
varMM 
uriMM 
=MM 
UrlConstantsMM *
.MM* +
GetUriMM+ 1
(MM1 2
UrlConstantsMM2 >
.MM> ?#
SUBMIT_PENDINGSIGNMODELMM? V
)MMV W
;MMW X
varOO 
formContentOO #
=OO$ %
newOO& )!
FormUrlEncodedContentOO* ?
(OO? @
newOO@ C
[OOC D
]OOD E
{PP 
newQQ 
KeyValuePairQQ $
<QQ$ %
stringQQ% +
,QQ+ ,
stringQQ, 2
>QQ2 3
(QQ3 4
$strQQ4 B
,QQB C
aEntityQQD K
.QQK L
checklistIdsQQL X
)QQX Y
,QQY Z
newRR 
KeyValuePairRR $
<RR$ %
stringRR% +
,RR+ ,
stringRR- 3
>RR3 4
(RR4 5
$strRR5 D
,RRD E
aEntityRRF M
.RRM N
additionalStopsRRN ]
)RR] ^
,RR^ _
newSS 
KeyValuePairSS $
<SS$ %
stringSS% +
,SS+ ,
stringSS- 3
>SS3 4
(SS4 5
$strSS5 @
,SS@ A
aEntitySSB I
.SSI J
	disposalsSSJ S
)SSS T
,SST U
newTT 
KeyValuePairTT $
<TT$ %
stringTT% +
,TT+ ,
stringTT- 3
>TT3 4
(TT4 5
$strTT5 B
,TTB C
aEntityTTD K
.TTK L
waitingTimeTTL W
)TTW X
,TTX Y
newUU 
KeyValuePairUU $
<UU$ %
stringUU% +
,UU+ ,
stringUU- 3
>UU3 4
(UU4 5
$strUU5 H
,UUH I
aEntityUUJ Q
.UUQ R
meetingServiceIdsUUR c
)UUc d
,UUd e
newVV 
KeyValuePairVV $
<VV$ %
stringVV% +
,VV+ ,
stringVV- 3
>VV3 4
(VV4 5
$strVV5 H
,VVH I
aEntityVVJ Q
.VVQ R
customDetentionIdVVR c
)VVc d
,VVd e
newWW 
KeyValuePairWW $
<WW$ %
stringWW% +
,WW+ ,
stringWW- 3
>WW3 4
(WW4 5
$strWW5 =
,WW= >
aEntityWW? F
.WWF G
remarkWWG M
)WWM N
,WWN O
newXX 
KeyValuePairXX $
<XX$ %
stringXX% +
,XX+ ,
stringXX- 3
>XX3 4
(XX4 5
$strXX5 @
,XX@ A
aEntityXXB I
.XXI J
	pickupPaxXXJ S
)XXS T
,XXT U
newYY 
KeyValuePairYY $
<YY$ %
stringYY% +
,YY+ ,
stringYY- 3
>YY3 4
(YY4 5
$strYY5 C
,YYC D
aEntityYYE L
.YYL M
serviceJobIdYYM Y
)YYY Z
,YYZ [
newZZ 
KeyValuePairZZ $
<ZZ$ %
stringZZ% +
,ZZ+ ,
stringZZ- 3
>ZZ3 4
(ZZ4 5
$strZZ5 ?
,ZZ? @
aEntityZZA H
.ZZH I
tripFeesZZI Q
.ZZQ R
ToStringZZR Z
(ZZZ [
)ZZ[ \
)ZZ\ ]
,ZZ] ^
new[[ 
KeyValuePair[[ $
<[[$ %
string[[% +
,[[+ ,
string[[- 3
>[[3 4
([[4 5
$str[[5 C
,[[C D
aEntity[[E L
.[[L M
isMSIncluded[[M Y
.[[Y Z
ToString[[Z b
([[b c
)[[c d
)[[d e
,[[e f
new\\ 
KeyValuePair\\ $
<\\$ %
string\\% +
,\\+ ,
string\\- 3
>\\3 4
(\\4 5
$str\\5 F
,\\F G
UserConfigs\\H S
.\\S T
PARENTCOMPANY_ID\\T d
.\\d e
ToString\\e m
(\\m n
)\\n o
)\\o p
,\\p q
new]] 
KeyValuePair]] $
<]]$ %
string]]% +
,]]+ ,
string]]- 3
>]]3 4
(]]4 5
ApiConstants]]5 A
.]]A B

TOKEN_NAME]]B L
,]]L M
ApiConstants]]N Z
.]]Z [
KEY]][ ^
)]]^ _
}^^ 
)^^ 
;^^ 

httpClient`` 
.`` 
Timeout`` &
=``' (
TimeSpan``) 1
.``1 2
FromSeconds``2 =
(``= >
$num``> @
)``@ A
;``A B
HttpResponseMessagebb '
responsebb( 0
=bb1 2
awaitbb3 8

httpClientbb9 C
.bbC D
	PostAsyncbbD M
(bbM N
uribbN Q
,bbQ R
formContentbbS ^
)bb^ _
;bb_ `
ifdd 
(dd 
responsedd  
.dd  !
IsSuccessStatusCodedd! 4
)dd4 5
{ee 
stringff 
responseContentff .
=ff/ 0
awaitff1 6
responseff7 ?
.ff? @
Contentff@ G
.ffG H
ReadAsStringAsyncffH Y
(ffY Z
)ffZ [
;ff[ \
IEnumerablehh #
<hh# $
	ApiResulthh$ -
>hh- .

apiResultshh/ 9
=hh: ;
JsonConverthh< G
.hhG H
DeserializeObjecthhH Y
<hhY Z
IEnumerablehhZ e
<hhe f
	ApiResulthhf o
>hho p
>hhp q
(hhq r
responseContent	hhr Å
)
hhÅ Ç
;
hhÇ É
ifjj 
(jj 

apiResultsjj &
==jj' )
nulljj* .
)jj. /
{kk 
returnll "
falsell# (
;ll( )
}mm 
varoo 
resultoo "
=oo# $

apiResultsoo% /
.oo/ 0
FirstOrDefaultoo0 >
(oo> ?
)oo? @
;oo@ A
ifqq 
(qq 
resultqq "
==qq# %
nullqq& *
)qq* +
{rr 
returnss "
falsess# (
;ss( )
}tt 
ifvv 
(vv 
resultvv "
.vv" #
Idvv# %
==vv& (
$numvv) ,
)vv, -
{ww 
returnxx "
truexx# '
;xx' (
}yy 
elsezz 
{{{ 
return|| "
false||# (
;||( )
}}} 
}~~ 
else 
{
ÄÄ 
return
ÅÅ 
false
ÅÅ $
;
ÅÅ$ %
}
ÇÇ 
}
ÉÉ 
}
ÑÑ 
catch
ÖÖ 
(
ÖÖ 
	Exception
ÖÖ 
ex
ÖÖ 
)
ÖÖ 
{
ÜÜ 
return
áá 
false
áá 
;
áá 
}
àà 
}
ââ 	
}
ää 
}ãã úT
MC:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\Users\UserService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
.) *
Users* /
{ 
public 

class 
UserService 
{ 
	protected 
int (
MaxResponseContentBufferSize 2
=3 4
$num5 ;
;; <
User 
currentUser 
; 
public 
async 
Task 
< 
User 
> 
Exist  %
(% &
UserCri& -
userCri. 5
,5 6
string7 =
Token> C
)C D
{ 	
try 
{ 
using 
( 

HttpClient !

httpClient" ,
=- .
new/ 2

HttpClient3 =
(= >
)> ?
)? @
{ 

httpClient 
. (
MaxResponseContentBufferSize ;
=< =(
MaxResponseContentBufferSize> Z
;Z [
var 
uri 
= 
UrlConstants *
.* +
GetUri+ 1
(1 2
UrlConstants2 >
.> ?
LOGIN? D
)D E
;E F
var   
formContent   #
=  $ %
new  & )!
FormUrlEncodedContent  * ?
(  ? @
new  @ C
[  C D
]  D E
{!! 
new"" 
KeyValuePair"" $
<""$ %
string""% +
,""+ ,
string"", 2
>""2 3
(""3 4
$str""4 >
,""> ?
userCri""@ G
.""G H
UserName""H P
)""P Q
,""Q R
new## 
KeyValuePair## $
<##$ %
string##% +
,##+ ,
string##- 3
>##3 4
(##4 5
$str##5 ?
,##? @
userCri##A H
.##H I
Password##I Q
)##Q R
,##R S
new$$ 
KeyValuePair$$ $
<$$$ %
string$$% +
,$$+ ,
string$$- 3
>$$3 4
($$4 5
$str$$5 <
,$$< =
Token$$> C
)$$D E
,$$E F
new%% 
KeyValuePair%% $
<%%$ %
string%%% +
,%%+ ,
string%%- 3
>%%3 4
(%%4 5
ApiConstants%%5 A
.%%A B

TOKEN_NAME%%B L
,%%L M
ApiConstants%%N Z
.%%Z [
KEY%%[ ^
)%%^ _
}&& 
)&& 
;&& 

httpClient(( 
.(( 
Timeout(( &
=((' (
TimeSpan(() 1
.((1 2
FromSeconds((2 =
(((= >
$num((> @
)((@ A
;((A B
HttpResponseMessage** '
response**( 0
=**1 2
await**3 8

httpClient**9 C
.**C D
	PostAsync**D M
(**M N
uri**N Q
,**Q R
formContent**S ^
)**^ _
;**_ `
if,, 
(,, 
response,,  
.,,  !
IsSuccessStatusCode,,! 4
),,4 5
{-- 
string.. 
responseContent.. .
=../ 0
await..1 6
response..7 ?
...? @
Content..@ G
...G H
ReadAsStringAsync..H Y
(..Y Z
)..Z [
;..[ \
IEnumerable00 #
<00# $
	ApiResult00$ -
>00- .

apiResults00/ 9
=00: ;
JsonConvert00< G
.00G H
DeserializeObject00H Y
<00Y Z
IEnumerable00Z e
<00e f
	ApiResult00f o
>00o p
>00p q
(00q r
responseContent	00r Å
)
00Å Ç
;
00Ç É
if22 
(22 

apiResults22 &
==22' )
null22* .
)22. /
{33 
return44 "
null44# '
;44' (
}55 
var77 
result77 "
=77# $

apiResults77% /
.77/ 0
FirstOrDefault770 >
(77> ?
)77? @
;77@ A
if99 
(99 
result99 "
==99# %
null99& *
)99* +
{:: 
return;; "
null;;# '
;;;' (
}<< 
if>> 
(>> 
result>> "
.>>" #
Id>># %
==>>& (
$num>>) ,
)>>, -
{?? 
currentUser@@ '
=@@( )
new@@* -
User@@. 2
(@@2 3
)@@3 4
{AA 
User_IdBB  '
=BB( )
resultBB* 0
.BB0 1
UserIdBB1 7
,BB7 8
ParentCompany_IdCC  0
=CC1 2
resultCC3 9
.CC9 :
ParentCompanyIdCC: I
,CCI J
NameDD  $
=DD% &
resultDD' -
.DD- .
CurrentUserNameDD. =
,DD= >
UserNameEE  (
=EE) *
userCriEE+ 2
.EE2 3
UserNameEE3 ;
,EE; <
PasswordFF  (
=FF) *
userCriFF+ 2
.FF2 3
PasswordFF3 ;
,FF; <

isSignedInGG  *
=GG+ ,
trueGG- 1
}HH 
;HH 
UserConfigsJJ '
.JJ' (
USER_IDJJ( /
=JJ0 1
currentUserJJ2 =
.JJ= >
User_IdJJ> E
;JJE F
UserConfigsKK '
.KK' (
NameKK( ,
=KK- .
currentUserKK/ :
.KK: ;
NameKK; ?
;KK? @
UserConfigsLL '
.LL' (
PARENTCOMPANY_IDLL( 8
=LL9 :
currentUserLL; F
.LLF G
ParentCompany_IdLLG W
;LLW X
returnNN "
currentUserNN# .
;NN. /
}OO 
elsePP 
{QQ 
returnRR "
nullRR# '
;RR' (
}SS 
}TT 
returnVV 
nullVV 
;VV  
}WW 
throwXX 
newXX #
NotImplementedExceptionXX 1
(XX1 2
)XX2 3
;XX3 4
}YY 
catchZZ 
(ZZ 
	ExceptionZZ 
exZZ 
)ZZ 
{[[ 
return\\ 
null\\ 
;\\ 
}]] 
}__ 	
publicaa 
asyncaa 
Taskaa 
<aa 
boolaa 
>aa 
LogOutaa  &
(aa& '
stringaa' -
userNameaa. 6
)aa6 7
{bb 	
trycc 
{dd 
usingee 
(ee 

HttpClientee !

httpClientee" ,
=ee- .
newee/ 2

HttpClientee3 =
(ee= >
)ee> ?
)ee? @
{ff 

httpClientgg 
.gg (
MaxResponseContentBufferSizegg ;
=gg< =(
MaxResponseContentBufferSizegg> Z
;ggZ [
varii 
uriii 
=ii 
UrlConstantsii *
.ii* +
GetUriii+ 1
(ii1 2
UrlConstantsii2 >
.ii> ?
LOGOUTii? E
)iiE F
;iiF G
varkk 
formContentkk #
=kk$ %
newkk& )!
FormUrlEncodedContentkk* ?
(kk? @
newkk@ C
[kkC D
]kkD E
{ll 
newmm 
KeyValuePairmm $
<mm$ %
stringmm% +
,mm+ ,
stringmm, 2
>mm2 3
(mm3 4
$strmm4 >
,mm> ?
userNamemm@ H
)mmH I
,mmI J
newnn 
KeyValuePairnn $
<nn$ %
stringnn% +
,nn+ ,
stringnn- 3
>nn3 4
(nn4 5
$strnn5 F
,nnF G
UserConfigsnnH S
.nnS T
PARENTCOMPANY_IDnnT d
.nnd e
ToStringnne m
(nnm n
)nnn o
)nno p
,nnp q
newoo 
KeyValuePairoo $
<oo$ %
stringoo% +
,oo+ ,
stringoo- 3
>oo3 4
(oo4 5
ApiConstantsoo5 A
.ooA B

TOKEN_NAMEooB L
,ooL M
ApiConstantsooN Z
.ooZ [
KEYoo[ ^
)oo^ _
}pp 
)pp 
;pp 

httpClientrr 
.rr 
Timeoutrr &
=rr' (
TimeSpanrr) 1
.rr1 2
FromSecondsrr2 =
(rr= >
$numrr> @
)rr@ A
;rrA B
HttpResponseMessagett '
responsett( 0
=tt1 2
awaittt3 8

httpClienttt9 C
.ttC D
	PostAsyncttD M
(ttM N
urittN Q
,ttQ R
formContentttS ^
)tt^ _
;tt_ `
ifvv 
(vv 
responsevv  
.vv  !
IsSuccessStatusCodevv! 4
)vv4 5
{ww 
stringxx 
responseContentxx .
=xx/ 0
awaitxx1 6
responsexx7 ?
.xx? @
Contentxx@ G
.xxG H
ReadAsStringAsyncxxH Y
(xxY Z
)xxZ [
;xx[ \
IEnumerablezz #
<zz# $
	ApiResultzz$ -
>zz- .

apiResultszz/ 9
=zz: ;
JsonConvertzz< G
.zzG H
DeserializeObjectzzH Y
<zzY Z
IEnumerablezzZ e
<zze f
	ApiResultzzf o
>zzo p
>zzp q
(zzq r
responseContent	zzr Å
)
zzÅ Ç
;
zzÇ É
if|| 
(|| 

apiResults|| &
==||' )
null||* .
)||. /
{}} 
return~~ "
false~~# (
;~~( )
} 
var
ÅÅ 
result
ÅÅ "
=
ÅÅ# $

apiResults
ÅÅ% /
.
ÅÅ/ 0
FirstOrDefault
ÅÅ0 >
(
ÅÅ> ?
)
ÅÅ? @
;
ÅÅ@ A
if
ÉÉ 
(
ÉÉ 
result
ÉÉ "
==
ÉÉ# %
null
ÉÉ& *
)
ÉÉ* +
{
ÑÑ 
return
ÖÖ "
false
ÖÖ# (
;
ÖÖ( )
}
ÜÜ 
if
àà 
(
àà 
result
àà "
.
àà" #
Id
àà# %
==
àà& (
$num
àà) ,
)
àà, -
{
ââ 
return
ää "
true
ää# '
;
ää' (
}
ãã 
else
åå 
{
çç 
return
éé "
false
éé# (
;
éé( )
}
èè 
}
êê 
else
ëë 
{
íí 
return
ìì 
false
ìì $
;
ìì$ %
}
îî 
}
ïï 
}
ññ 
catch
óó 
(
óó 
	Exception
óó 
ex
óó 
)
óó 
{
òò 
return
ôô 
false
ôô 
;
ôô 
}
öö 
}
õõ 	
}
úú 
}ùù πf
]C:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\Notifications\NotificationService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
.) *
Notifications* 7
{ 
public 

class 
NotificationService $
{ 
	protected 
int (
MaxResponseContentBufferSize 2
=3 4
$num5 ;
;; <
public 
async 
Task 
< 
IEnumerable %
<% &
Notification& 2
>2 3
>3 4
GetNotifications5 E
(E F
Int64F K
userIdL R
)R S
{ 	
try 
{ 
using 
( 

HttpClient !

httpClient" ,
=- .
new/ 2

HttpClient3 =
(= >
)> ?
)? @
{ 

httpClient 
. (
MaxResponseContentBufferSize ;
=< =(
MaxResponseContentBufferSize> Z
;Z [
var 
uri 
= 
UrlConstants *
.* +
GetUri+ 1
(1 2
UrlConstants2 >
.> ?
GET_NOTIFICATIONS? P
)P Q
;Q R
var 
formContent #
=$ %
new& )!
FormUrlEncodedContent* ?
(? @
new@ C
[C D
]D E
{ 
new 
KeyValuePair $
<$ %
string% +
,+ ,
string, 2
>2 3
(3 4
$str4 <
,< =
UserConfigs> I
.I J
USER_IDJ Q
.Q R
ToStringR Z
(Z [
)[ \
)\ ]
,] ^
new 
KeyValuePair $
<$ %
string% +
,+ ,
string- 3
>3 4
(4 5
$str5 F
,F G
UserConfigsH S
.S T
PARENTCOMPANY_IDT d
.d e
ToStringe m
(m n
)n o
)o p
,p q
new   
KeyValuePair   $
<  $ %
string  % +
,  + ,
string  - 3
>  3 4
(  4 5
ApiConstants  5 A
.  A B

TOKEN_NAME  B L
,  L M
ApiConstants  N Z
.  Z [
KEY  [ ^
)  ^ _
}!! 
)!! 
;!! 

httpClient## 
.## 
Timeout## &
=##' (
TimeSpan##) 1
.##1 2
FromSeconds##2 =
(##= >
$num##> @
)##@ A
;##A B
HttpResponseMessage%% '
response%%( 0
=%%1 2
await%%3 8

httpClient%%9 C
.%%C D
	PostAsync%%D M
(%%M N
uri%%N Q
,%%Q R
formContent%%S ^
)%%^ _
;%%_ `
if'' 
('' 
response''  
.''  !
IsSuccessStatusCode''! 4
)''4 5
{(( 
IEnumerable)) #
<))# $
Notification))$ 0
>))0 1
notifications))2 ?
=))@ A
new))B E
List))F J
<))J K
Notification))K W
>))W X
())X Y
)))Y Z
;))Z [
string++ 
responseContent++ .
=++/ 0
await++1 6
response++7 ?
.++? @
Content++@ G
.++G H
ReadAsStringAsync++H Y
(++Y Z
)++Z [
;++[ \
try,, 
{-- 
notifications.. )
=..* +
JsonConvert.., 7
...7 8
DeserializeObject..8 I
<..I J
IEnumerable..J U
<..U V
Notification..V b
>..b c
>..c d
(..d e
responseContent..e t
)..t u
;..u v
}// 
catch00 
(00 
	Exception00 (
ex00) +
)00+ ,
{11 
}33 
return66 
notifications66 ,
.66, -
ToList66- 3
(663 4
)664 5
;665 6
}77 
return99 
new99 
List99 #
<99# $
Notification99$ 0
>990 1
(991 2
)992 3
;993 4
}:: 
};; 
catch<< 
(<< 
	Exception<< 
ex<< 
)<<  
{== 
return>> 
new>> 
List>> 
<>>  
Notification>>  ,
>>>, -
(>>- .
)>>. /
;>>/ 0
}?? 
}@@ 	
publicBB 
asyncBB 
TaskBB 
<BB 
intBB 
>BB  
GetNotificationCountBB 3
(BB3 4
)BB4 5
{CC 	
tryDD 
{EE 
usingFF 
(FF 

HttpClientFF !

httpClientFF" ,
=FF- .
newFF/ 2

HttpClientFF3 =
(FF= >
)FF> ?
)FF? @
{GG 

httpClientHH 
.HH (
MaxResponseContentBufferSizeHH ;
=HH< =(
MaxResponseContentBufferSizeHH> Z
;HHZ [
varJJ 
uriJJ 
=JJ 
UrlConstantsJJ *
.JJ* +
GetUriJJ+ 1
(JJ1 2
UrlConstantsJJ2 >
.JJ> ?"
GET_NOTIFICATION_COUNTJJ? U
)JJU V
;JJV W
varLL 
formContentLL #
=LL$ %
newLL& )!
FormUrlEncodedContentLL* ?
(LL? @
newLL@ C
[LLC D
]LLD E
{MM 
newNN 
KeyValuePairNN $
<NN$ %
stringNN% +
,NN+ ,
stringNN, 2
>NN2 3
(NN3 4
$strNN4 <
,NN< =
UserConfigsNN> I
.NNI J
USER_IDNNJ Q
.NNQ R
ToStringNNR Z
(NNZ [
)NN[ \
)NN\ ]
,NN] ^
newOO 
KeyValuePairOO $
<OO$ %
stringOO% +
,OO+ ,
stringOO- 3
>OO3 4
(OO4 5
$strOO5 F
,OOF G
UserConfigsOOH S
.OOS T
PARENTCOMPANY_IDOOT d
.OOd e
ToStringOOe m
(OOm n
)OOn o
)OOo p
,OOp q
newPP 
KeyValuePairPP $
<PP$ %
stringPP% +
,PP+ ,
stringPP- 3
>PP3 4
(PP4 5
ApiConstantsPP5 A
.PPA B

TOKEN_NAMEPPB L
,PPL M
ApiConstantsPPN Z
.PPZ [
KEYPP[ ^
)PP^ _
}QQ 
)QQ 
;QQ 

httpClientSS 
.SS 
TimeoutSS &
=SS' (
TimeSpanSS) 1
.SS1 2
FromSecondsSS2 =
(SS= >
$numSS> @
)SS@ A
;SSA B
HttpResponseMessageUU '
responseUU( 0
=UU1 2
awaitUU3 8

httpClientUU9 C
.UUC D
	PostAsyncUUD M
(UUM N
uriUUN Q
,UUQ R
formContentUUS ^
)UU^ _
;UU_ `
ifWW 
(WW 
responseWW  
.WW  !
IsSuccessStatusCodeWW! 4
)WW4 5
{XX 
stringYY 
responseContentYY .
=YY/ 0
awaitYY1 6
responseYY7 ?
.YY? @
ContentYY@ G
.YYG H
ReadAsStringAsyncYYH Y
(YYY Z
)YYZ [
;YY[ \
tryZZ 
{[[ 
var\\  
result\\! '
=\\( )
JsonConvert\\* 5
.\\5 6
DeserializeObject\\6 G
<\\G H
	ApiResult\\H Q
>\\Q R
(\\R S
responseContent\\S b
)\\b c
;\\c d
ifff 
(ff  
resultff  &
.ff& '
Idff' )
==ff* ,
$numff- 0
)ff0 1
{gg 
returnhh  &
Converthh' .
.hh. /
ToInt32hh/ 6
(hh6 7
resulthh7 =
.hh= >
Valuehh> C
)hhC D
;hhD E
}ii 
}jj 
catchkk 
(kk 
	Exceptionkk (
exkk) +
)kk+ ,
{ll 
returnmm "
$nummm# $
;mm$ %
}nn 
}oo 
elsepp 
{qq 
returnrr 
$numrr  
;rr  !
}ss 
returnuu 
$numuu 
;uu 
}vv 
}ww 
catchxx 
(xx 
	Exceptionxx 
exxx 
)xx  
{yy 
returnzz 
$numzz 
;zz 
}{{ 
}|| 	
public~~ 
async~~ 
Task~~ 
<~~ 
bool~~ 
>~~ #
AcknowledgeNotification~~  7
(~~7 8
Int64~~8 =
notificationId~~> L
)~~L M
{ 	
try
ÄÄ 
{
ÅÅ 
using
ÇÇ 
(
ÇÇ 

HttpClient
ÇÇ !

httpClient
ÇÇ" ,
=
ÇÇ- .
new
ÇÇ/ 2

HttpClient
ÇÇ3 =
(
ÇÇ= >
)
ÇÇ> ?
)
ÇÇ? @
{
ÉÉ 

httpClient
ÑÑ 
.
ÑÑ *
MaxResponseContentBufferSize
ÑÑ ;
=
ÑÑ< =*
MaxResponseContentBufferSize
ÑÑ> Z
;
ÑÑZ [
var
ÜÜ 
uri
ÜÜ 
=
ÜÜ 
UrlConstants
ÜÜ *
.
ÜÜ* +
GetUri
ÜÜ+ 1
(
ÜÜ1 2
UrlConstants
ÜÜ2 >
.
ÜÜ> ?'
ACKNOWLEDGE_NOTIFICATIONS
ÜÜ? X
)
ÜÜX Y
;
ÜÜY Z
var
àà 
formContent
àà #
=
àà$ %
new
àà& )#
FormUrlEncodedContent
àà* ?
(
àà? @
new
àà@ C
[
ààC D
]
ààD E
{
ââ 
new
ää 
KeyValuePair
ää $
<
ää$ %
string
ää% +
,
ää+ ,
string
ää, 2
>
ää2 3
(
ää3 4
$str
ää4 D
,
ääD E
notificationId
ääF T
.
ääT U
ToString
ääU ]
(
ää] ^
)
ää^ _
)
ää_ `
,
ää` a
new
ãã 
KeyValuePair
ãã $
<
ãã$ %
string
ãã% +
,
ãã+ ,
string
ãã- 3
>
ãã3 4
(
ãã4 5
$str
ãã5 F
,
ããF G
UserConfigs
ããH S
.
ããS T
PARENTCOMPANY_ID
ããT d
.
ããd e
ToString
ããe m
(
ããm n
)
ããn o
)
ãão p
,
ããp q
new
åå 
KeyValuePair
åå $
<
åå$ %
string
åå% +
,
åå+ ,
string
åå- 3
>
åå3 4
(
åå4 5
ApiConstants
åå5 A
.
ååA B

TOKEN_NAME
ååB L
,
ååL M
ApiConstants
ååN Z
.
ååZ [
KEY
åå[ ^
)
åå^ _
}
çç 
)
çç 
;
çç 

httpClient
èè 
.
èè 
Timeout
èè &
=
èè' (
TimeSpan
èè) 1
.
èè1 2
FromSeconds
èè2 =
(
èè= >
$num
èè> @
)
èè@ A
;
èèA B!
HttpResponseMessage
ëë '
response
ëë( 0
=
ëë1 2
await
ëë3 8

httpClient
ëë9 C
.
ëëC D
	PostAsync
ëëD M
(
ëëM N
uri
ëëN Q
,
ëëQ R
formContent
ëëS ^
)
ëë^ _
;
ëë_ `
if
îî 
(
îî 
response
îî  
.
îî  !!
IsSuccessStatusCode
îî! 4
)
îî4 5
{
ïï 
string
ññ 
responseContent
ññ .
=
ññ/ 0
await
ññ1 6
response
ññ7 ?
.
ññ? @
Content
ññ@ G
.
ññG H
ReadAsStringAsync
ññH Y
(
ññY Z
)
ññZ [
;
ññ[ \
	ApiResult
òò !
result
òò" (
=
òò) *
JsonConvert
òò+ 6
.
òò6 7
DeserializeObject
òò7 H
<
òòH I
	ApiResult
òòI R
>
òòR S
(
òòS T
responseContent
òòT c
)
òòc d
;
òòd e
if
öö 
(
öö 
result
öö "
==
öö# %
null
öö& *
)
öö* +
{
õõ 
return
úú "
false
úú# (
;
úú( )
}
ùù 
if
üü 
(
üü 
result
üü "
.
üü" #
Id
üü# %
==
üü& (
$num
üü) ,
)
üü, -
{
†† 
return
°° "
true
°°# '
;
°°' (
}
¢¢ 
else
££ 
{
§§ 
return
•• "
false
••# (
;
••( )
}
¶¶ 
}
ßß 
else
®® 
{
©© 
return
™™ 
false
™™ $
;
™™$ %
}
´´ 
}
¨¨ 
}
≠≠ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
ex
ÆÆ 
)
ÆÆ  
{
ØØ 
return
∞∞ 
false
∞∞ 
;
∞∞ 
}
±± 
}
≤≤ 	
}
≥≥ 
}¥¥ ö	
ZC:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\GeoLocation\GeoLocationService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
.) *
GeoLocation* 5
{		 
public

 

class

 
GeoLocationService

 #
{ 
public 
GeoLocationService !
(! "
)" #
{ 	
}
 
public 
async 
Task 
< 
Position "
>" #
GetCurrentLocation$ 6
(6 7
)7 8
{ 	
var 
locator 
= 
CrossGeolocator )
.) *
Current* 1
;1 2
var 
position 
= 
await  
locator! (
.( )
GetPositionAsync) 9
(9 :
TimeSpan: B
.B C
FromSecondsC N
(N O
$numO Q
)Q R
)R S
;S T
return 
position 
; 
} 	
} 
} €
KC:\Office_Work\MobileApp\EngagerMobile.Mariteam.Services\AbstractService.cs
	namespace 	
EngagerMobile
 
. 
Mariteam  
.  !
Services! )
{ 
public 

abstract 
class 
AbstractService )
<) *
T* +
,+ ,
C- .
>. /
{		 
	protected 
int (
MaxResponseContentBufferSize 2
=3 4
$num5 ;
;; <
public 
abstract 
Task 
< 
bool !
>! "
Exist# (
(( )
C) *
aCri+ /
)/ 0
;0 1
public 
abstract 
Task 
< 
IEnumerable (
<( )
T) *
>* +
>+ ,
Get- 0
(0 1
C1 2
aCri3 7
)7 8
;8 9
public 
abstract 
Task 
< 
T 
> 
GetById  '
(' (
int( +
id, .
). /
;/ 0
public 
abstract 
Task 
< 
T 
> 
Save  $
($ %
T% &
aEntity' .
). /
;/ 0
public 
abstract 
Task 
< 
bool !
>! "
Delete# )
() *
T* +
aEntity, 3
)3 4
;4 5
} 
} 